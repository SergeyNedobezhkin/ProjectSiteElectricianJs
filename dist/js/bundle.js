(()=>{"use strict";(()=>{const e=document.querySelector(".modal-callback"),t=document.querySelector(".modal-overlay");document.querySelectorAll(".fancyboxModal").forEach((r=>{r.addEventListener("click",(()=>{(({timing:e,draw:t,duration:r})=>{let a=performance.now();requestAnimationFrame((function o(s){let l=(s-a)/r;l>1&&(l=1);let n=e(l);t(n),l<1&&requestAnimationFrame(o)}))})({duration:400,timing:e=>e,draw(t){e.style.left=50*t+"%",e.style.top=25*t+"%"}}),t.style.display="block",e.style.display="block"}))})),t.addEventListener("click",(r=>{(r.target.closest(".modal-overlay")||r.target.classList.contains(".modal-close"))&&(t.style.display="none",e.style.display="none")}))})(),(()=>{const e=document.querySelector('[name="fio"]'),t=document.querySelector('[name="tel"]');e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^а-яё]/gi,"")})),t.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^0-9+]/gi,"")}))})(),(e=>{const t=document.getElementsByName(e)[0];t.querySelector('[name="tel"]').setAttribute("required","");const r=document.createElement("div"),a="Спасибо! Наш менеджер с вами свяжется!",o=e=>{let t=!0;return Array.from(e).forEach((e=>{e.classList.contains("success")||(t=!1)})),t};try{if(!t)throw new Error("Верните форму на место, пожалуйста!!!");t.addEventListener("submit",(e=>{e.preventDefault(),(e=>{const s=t.querySelectorAll(".form-control"),l=new FormData(t),n={};var c;l.forEach(((e,a)=>{r.textContent="Загрузка...",""!==e&&(n[a]=e),r.style="color: black;",t.append(r)})),o(s)?(c=n,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(c),headers:{"Content-type":"application/json"}}).then((e=>e.json()))).then((e=>{r.textContent=a,r.textContent===a&&setTimeout((function(){r.style.display="none"}),3e3),s.forEach((e=>{e.value=""}))})).catch((e=>{r.textContent="Ошибка..."})):r.textContent=""})()}))}catch(e){console.log(e.message)}t.addEventListener("input",(e=>{if(e.target.matches('[name="fio"]')){let t=e.target.value;return t.replace(/^[а-яё][а-яё\' ']{1,20}$/gi,"")?(e.target.classList.remove("success"),e.target.classList.add("error"),e.target.style="border:solid; border-width: 5px; border-color: red;",t=!1):t.replace(/^[а-яё][а-яё\' ']{1,20}$/gi,"")||(e.target.classList.remove("error"),e.target.style="",e.target.classList.add("success"),t=!0),o(t)}if(e.target.matches('[name="tel"]')){let t=e.target.value;return t.replace(/^\+?[78][-\(]?\d{3}\)?-?\d{0,3}-?\d{2}-?\d{0,3}$/i,"")?(e.target.classList.remove("success"),e.target.classList.add("error"),e.target.style="border:solid; border-width: 5px; border-color: red;",t=!1):t.replace(/^\+?[78][-\(]?\d{3}\)?-?\d{0,3}-?\d{2}-?\d{0,3}$/i,"")||(e.target.classList.remove("error"),e.target.style="",e.target.classList.add("success"),t=!0),o(t)}}))})("form-callback")})();